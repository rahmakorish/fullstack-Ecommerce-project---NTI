<div class="container py-4">
  <ul class="nav nav-tabs mb-4">
    <li class="nav-item">
      <button class="nav-link" [class.active]="view === 'display'" (click)="view = 'display'" style="color: var(--text);">
        Display FAQs
      </button>
    </li>
    <li class="nav-item">
      <button class="nav-link" [class.active]="view === 'create'" (click)="view = 'create'" style="color: var(--text);">
        Create Question
      </button>
    </li>
  </ul>

  <section aria-labelledby="faq-title">
    <h1 id="faq-title" class="text-center mb-4" style="color: var(--primary);">FAQ Settings</h1>

    <!-- Display FAQs -->
    @if (view === 'display') {
      <div class="accordion" id="faqDisplayAccordion">
        @for (faq of question; track faq._id) {
          <div class="accordion-item mb-3 shadow-sm">
            <h2 class="accordion-header" id="displayHeading{{ faq._id }}">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#displayCollapse' + faq._id" aria-expanded="false" [attr.aria-controls]="'displayCollapse' + faq._id" style="color: var(--text); background-color: var(--background);">
                Q: {{ faq.question }}
              </button>
            </h2>
            <div [id]="'displayCollapse' + faq._id" class="accordion-collapse collapse" [attr.aria-labelledby]="'displayHeading' + faq._id" data-bs-parent="#faqDisplayAccordion">
              <div class="accordion-body" style="background-color: var(--background); color: var(--text);">
                A: {{ faq.answer }}
              </div>
            </div>
          </div>
        }
      </div>
    }

    <!-- Create Question Form -->
    @if (view === 'create') {
      <div class="card p-4 shadow-sm">
        <h2 class="card-title text-center mb-4" style="color: var(--primary);">Add a New Question</h2>
        <form (ngSubmit)="addQuestion()" [formGroup]="questionForm">
          <div class="mb-3">
            <label for="questionInput" class="form-label">Question:</label>
            <input
              id="questionInput"
              type="text"
              formControlName="question"
              class="form-control"
              placeholder="Enter your question"
            />
          </div>

          <div class="mb-3">
            <label for="answerTextarea" class="form-label">Answer:</label>
            <textarea
              id="answerTextarea"
              formControlName="answer"
              class="form-control"
              placeholder="Enter the answer"
              rows="4"
            ></textarea>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-lg">Add FAQ</button>
          </div>
        </form>
      </div>
    }
  </section>
</div>
