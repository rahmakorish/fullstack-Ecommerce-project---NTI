<div class="container py-4">
  <h1 class="text-center mb-4" style="color: var(--primary);">My Orders</h1>

  @if (myOrders && orderItems && orderItems.length > 0) {
    <div class="row g-4">
      @for (item of orderItems; track item._id; let i = $index) {
        <div class="col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body d-flex flex-column">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h3 class="card-title mb-0" style="color: var(--text);">Order #{{ i + 1 }}</h3>
                <span class="badge" [ngClass]="{
                  'bg-success': item.status.toLowerCase() === 'delivered',
                  'bg-warning text-dark': item.status.toLowerCase() === 'pending',
                  'bg-danger': item.status.toLowerCase() === 'cancelled'
                }">
                  {{ item.status }}
                </span>
              </div>
              <p class="card-text mb-1"><strong>Order ID:</strong> {{ item._id }}</p>
              <p class="card-text mb-1"><strong>Total Price:</strong> {{ item.TotalPrice | currency:'EGP' }}</p>
            </div>
          </div>
        </div>
      }
    </div>

    <div class="card mt-4 shadow-sm">
      <div class="card-body text-center">
        <p class="card-text fs-4 fw-bold mb-0" style="color: var(--primary);">
          <strong>Total Orders Price:</strong> <span style="color: var(--accent);">{{ ordrstotalPrice| currency:'EGP' }}</span>
        </p>
      </div>
    </div>
  } @else {
    <div class="text-center py-5">
      <p class="lead">You have no orders yet.</p>
      <a routerLink="/marketplace" class="btn btn-primary btn-lg mt-3">Browse Products</a>
    </div>
  }
</div>
